<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event category="CREATE" id="0">
  <actions>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">{
    menu_create(40, 170, 300, 300, 30);

    if room != Options {
        menu_setdimmed();
    }
    
    var timepos;
    if(global.timerPos) {
        timepos = "Left";
    } else {
        timepos = "Center";
    }
    menu_addedit_custom("Timer Position", timepos, '
        global.timerPos = not global.timerPos
        ini_open("gg2.ini");
        ini_write_real("Settings","Timer Position", global.timerPos);
        ini_close();
        if instance_exists(HUD) {
            with(HUD) {
                if (object_index != KothHUD) {
                    xshift=-320*global.timerPos
                    yshift=5
                }else if (global.kothHudPos){
                    xshift=-323*global.timerPos
                    yshift=35*global.kothHudPos   
                }
                else{
                    xshift=-290*global.timerPos
                    yshift=35*global.kothHudPos
                }
            }
        
        }
        if(global.timerPos) {
            return "Left";
        } else {
            return "Center";
        }
    ');
    
    var killlog;    
    if(global.killLogPos) {
        killlog = "Just Below Timers";
    } else {
        killlog = "Default";
    }
    menu_addedit_custom("Kill Log Position", killlog, '
        global.killLogPos = not global.killLogPos
        ini_open("gg2.ini");
        ini_write_real("Settings","Kill Log Position", global.killLogPos)
        ini_close();
        if instance_exists(KillLog) {
            with(KillLog) {
               if (global.kothHudPos) {
                    yoffset=65*global.killLogPos
                }else if (global.kothHudPos) = false{
                    yoffset=45*global.killLogPos
                }
    
            }
        }
        if(global.killLogPos) {
            return "Just Below Timers";
        } else {
            return "Default";
        }
    ');
    
    var kothhud;
    if(global.kothHudPos) {
        kothhud = "Stacked";
    } else {
        kothhud = "Default";
    }
    menu_addedit_custom("KOTH Timer Orientation", kothhud, '
        global.kothHudPos = not global.kothHudPos
        ini_open("gg2.ini");
        ini_write_real("Settings","KoTH HUD Position", global.kothHudPos)
        ini_close();
        if instance_exists(KothHUD) {
            with(KothHUD) {
                if (global.kothHudPos) {
                    coffset=0
                    xshift=-323*global.timerPos
                    yshift=35*global.kothHudPos
                }else {
                    coffset=43*1.15
                    xshift=-290*global.timerPos
                    yshift=35*global.kothHudPos
                }
            }
        }
        if(global.kothHudPos) {
            return "Stacked";
        } else {
            return "Default";
        }
    ');
    menu_addback("Back", '
        instance_create(x,y,OptionsController);
        instance_destroy();
    ');
}
</argument>
      </arguments>
    </action>
  </actions>
</event>
